{% extends "layouts/base.html" %}

{% block title %} Result {% endblock %} 

<!-- Specific Plugin CSS goes HERE -->
{% block plugin_stylesheets %}

  <!-- Plugin css for this page -->
  <link rel="stylesheet" href="/static/assets/vendors/jvectormap/jquery-jvectormap.css">
  <link rel="stylesheet" href="/static/assets/vendors/flag-icon-css/css/flag-icon.min.css">
  <link rel="stylesheet" href="/static/assets/vendors/owl-carousel-2/owl.carousel.min.css">
  <link rel="stylesheet" href="/static/assets/vendors/owl-carousel-2/owl.theme.default.min.css">

{% endblock plugin_stylesheets %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<div class="content-wrapper">

  <div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Result</h4>
        </p>
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th> User </th>
                <th> File </th>
                <th> Model </th>
                <th> Vulnerable </th>
                <th> Vulnerability Prediction % </th>
                <th> Date Scanned </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="py-1">{{ current_user.username }}</td>
                <td> {{ fileName }}</td>
                
                <td> CWE-119 </td>
                <td class="text-{{ cwe_119_C }}" > {{cwe_119_V}}</td>
                <td>
                  <div class="progress">
                    <div class="progress-bar bg-{{cwe_119_C}}" role="progressbar" style="width: {{ cwe_119 }}%" aria-valuenow="50"aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                  {{ cwe_119 }}%
                </td>
                <td> {{ date }} </td>>
              </tr>
              <tr>
                <td class="py-1">{{ current_user.username }}</td>
                <td> {{ fileName }}</td>
                
                <td> CWE-120 </td>
                <td class="text-{{ cwe_120_C }}" > {{cwe_120_V}}</td>
                <td>
                  <div class="progress">
                    <div class="progress-bar bg-{{cwe_120_C}}" role="progressbar" style="width: {{ cwe_120 }}%" aria-valuenow="50"aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                  {{ cwe_120 }}%
                </td>
                <td> {{ date }} </td>>
              </tr>
              <tr>
                <td class="py-1">{{ current_user.username }}</td>
                <td> {{ fileName }}</td>
                
                <td> CWE-469 </td>
                <td class="text-{{ cwe_469_C }}"> {{cwe_469_V}}</td>
                <td>
                  <div class="progress">
                    <div class="progress-bar bg-{{cwe_469_C}}" role="progressbar" style="width: {{ cwe_469 }}%" aria-valuenow="50"aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                  {{ cwe_469 }}%
                </td>
                <td> {{ date }} </td>>
              </tr>
              <tr>
                <td class="py-1">{{ current_user.username }}</td>
                <td> {{ fileName }}</td>
                
                <td> CWE-476 </td>
                <td class="text-{{ cwe_476_C }}" > {{cwe_476_V}}</td>
                <td>
                  <div class="progress">
                    <div class="progress-bar bg-{{cwe_476_C}}" role="progressbar" style="width: {{ cwe_476 }}%" aria-valuenow="50"aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                  {{ cwe_476 }}%
                </td>
                <td> {{ date }} </td>>
              </tr>
              <tr>
                <td class="py-1">{{ current_user.username }}</td>
                <td> {{ fileName }}</td>
                
                <td> Binary </td>
                <td class="text-{{ cwe_binary_C }}"> {{cwe_binary_V}}</td>
                <td>
                  <div class="progress">
                    <div class="progress-bar bg-{{cwe_binary_C}}" role="progressbar" style="width: {{ cwe_binary }}%" aria-valuenow="50"aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                  {{ cwe_binary }}%
                </td>
                <td> {{ date }} </td>>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <!--<1<div id="columnchart_material" style="width: 800px; height: 500px;"></div>-->
</div>
{% endblock content %}

<!-- Specific Plugin JS goes HERE  -->
{% block plugin_javascripts %}

  <script src="/static/assets/vendors/chart.js/Chart.min.js"></script>
  <script src="/static/assets/vendors/progressbar.js/progressbar.min.js"></script>
  <script src="/static/assets/vendors/jvectormap/jquery-jvectormap.min.js"></script>
  <script src="/static/assets/vendors/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
  <script src="/static/assets/vendors/owl-carousel-2/owl.carousel.min.js"></script>
  
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['bar']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      var data = google.visualization.arrayToDataTable([
        ['Year', 'Sales', 'Expenses', 'Profit'],
        ['2014', 1000, 400, 200],
        ['2015', 1170, 460, 250],
        ['2016', 660, 1120, 300],
        ['2017', 1030, 540, 350]
      ]);

      var options = {
        chart: {
          title: 'Company Performance',
          subtitle: 'Sales, Expenses, and Profit: 2014-2017',
        }
      };

      var chart = new google.charts.Bar(document.getElementById('columnchart_material'));

      chart.draw(data, google.charts.Bar.convertOptions(options));
    }
  </script>


{% endblock plugin_javascripts %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <script src="/static/assets/js/dashboard.js"></script>

{% endblock javascripts %}
